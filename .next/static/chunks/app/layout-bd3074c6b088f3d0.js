(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6743:function(e,t,n){Promise.resolve().then(n.t.bind(n,9456,23)),Promise.resolve().then(n.t.bind(n,2778,23)),Promise.resolve().then(n.bind(n,4362))},9376:function(e,t,n){"use strict";var r=n(5475);n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},4362:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return c},a:function(){return s}});var r=n(7437),o=n(2265),u=n(9376);let a=(0,o.createContext)(void 0),s=()=>{let e=(0,o.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},c=e=>{let{children:t}=e,[n,s]=(0,o.useState)(null),[c,l]=(0,o.useState)(!1),i=(0,u.useRouter)(),d=(0,o.useCallback)(e=>{console.log("[AuthContext] Login: Setting currentUser -",e.username),s({...e,createdAt:"string"==typeof e.createdAt?new Date(e.createdAt):e.createdAt})},[]),h=(0,o.useCallback)(async()=>{console.log("[AuthContext] Logout: Clearing currentUser"),s(null);try{await fetch("/api/auth/logout",{method:"POST"})}catch(e){console.error("[AuthContext] Logout API call failed:",e)}i.push("/chat")},[i]);return(0,r.jsx)(a.Provider,{value:{currentUser:n,isLoadingAuth:c,login:d,logout:h},children:t})}},2778:function(){},9456:function(e){e.exports={style:{fontFamily:"'__Inter_d65c78', '__Inter_Fallback_d65c78'",fontStyle:"normal"},className:"__className_d65c78",variable:"__variable_d65c78"}}},function(e){e.O(0,[507,971,117,744],function(){return e(e.s=6743)}),_N_E=e.O()}]);