(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9295:function(t,e,n){Promise.resolve().then(n.bind(n,6117))},6117:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var o=n(7437),a=n(7648),r=n(9376),i=n(4362),c=n(2265),s=n(9756),l=n(6334);let u={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"calc(100vh - 50px)",padding:"2rem",backgroundColor:"var(--color-background-default)",color:"var(--color-foreground-default)",textAlign:"center"},title:{},subtitle:{fontSize:"1.125rem",color:"var(--color-foreground-secondary)",marginBottom:"2.5rem",maxWidth:"600px"},buttonGroup:{alignItems:"center",justifyContent:"center",display:"flex",gap:"1rem",marginTop:"1.5rem"}};function d(){let{currentUser:t,isLoadingAuth:e}=(0,i.a)(),n=(0,r.useRouter)();return((0,c.useEffect)(()=>{!e&&t&&(console.log("Homepage: User found in AuthContext, redirecting to /chat"),n.replace("/chat"))},[t,e,n]),e||t)?(0,o.jsxs)("div",{style:u.container,children:[(0,o.jsx)(s.Z,{size:"lg",color:"rgb(240,186,57)"}),(0,o.jsx)("p",{style:{marginTop:"1rem",fontSize:"0.875rem",color:"var(--color-foreground-secondary)"},children:"Loading Buzzly..."})]}):(0,o.jsx)("main",{style:u.container,children:(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{style:u.title,src:"/logo.png",width:"600px"}),(0,o.jsx)("p",{style:u.subtitle,children:"A simple, clean, and focused chat experience. Connect with others seamlessly."}),(0,o.jsxs)("div",{style:u.buttonGroup,children:[(0,o.jsx)(a.default,{href:"/chat",passHref:!0,legacyBehavior:!0,children:(0,o.jsx)(l.Z,{className:"a",variant:"primary",size:"lg",children:"Login to Chat"})}),(0,o.jsx)(a.default,{href:"/signup",passHref:!0,legacyBehavior:!0,children:(0,o.jsx)(l.Z,{className:"a",variant:"secondary",size:"lg",children:"Create Account"})})]})]})})}},6334:function(t,e,n){"use strict";var o=n(7437);n(2265);var a=n(9756),r=n(424),i=n.n(r);e.Z=t=>{let{children:e,className:n,variant:r="primary",size:c="md",isLoading:s=!1,fullWidth:l=!1,disabled:u,leftIcon:d,rightIcon:h,...g}=t,_=i()["variant".concat(r.charAt(0).toUpperCase()+r.slice(1))],m=i()["size".concat(c.toUpperCase())]||i().sizeMd,p=l?i().fullWidth:"",x="text-[rgb(240,186,57)]";return("primary"===r||"danger"===r)&&(x="text-white"),(0,o.jsxs)("button",{className:"".concat(i().buttonBase," ").concat(_," ").concat(m," ").concat(p," ").concat(n||""),disabled:u||s,...g,children:[s&&(0,o.jsx)(a.Z,{size:"sm",className:"".concat(i().spinnerLoading," ").concat(x)}),!s&&d&&(0,o.jsx)("span",{className:"".concat(i().iconLeft," ").concat("sm"===c?i().iconSm:i().iconMd),children:d}),(0,o.jsx)("span",{className:s&&e?i().textHiddenWhileLoading:"",children:e}),!s&&h&&(0,o.jsx)("span",{className:"".concat(i().iconRight," ").concat("sm"===c?i().iconSm:i().iconMd),children:h}),s&&e&&(0,o.jsx)("span",{className:i().textAbsoluteForLoading,children:e})]})}},9756:function(t,e,n){"use strict";var o=n(7437);n(2265),e.Z=t=>{let{size:e="md",color:n,className:a="",ariaLabel:r="Loading content"}=t,i="20px";switch(e){case"xs":i="12px";break;case"sm":i="16px";break;case"lg":i="32px";break;case"xl":i="48px"}let c={height:i,width:i,color:n||"rgb(240,186,57)"};return(0,o.jsxs)("svg",{className:"animate-spin ".concat(a),style:c,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-label":r,role:"status",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",style:{opacity:.25}}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",style:{opacity:.75}})]})}},4362:function(t,e,n){"use strict";n.d(e,{AuthProvider:function(){return s},a:function(){return c}});var o=n(7437),a=n(2265),r=n(9376);let i=(0,a.createContext)(void 0),c=()=>{let t=(0,a.useContext)(i);if(void 0===t)throw Error("useAuth must be used within an AuthProvider");return t},s=t=>{let{children:e}=t,[n,c]=(0,a.useState)(null),[s,l]=(0,a.useState)(!1),u=(0,r.useRouter)(),d=(0,a.useCallback)(t=>{console.log("[AuthContext] Login: Setting currentUser -",t.username),c({...t,createdAt:"string"==typeof t.createdAt?new Date(t.createdAt):t.createdAt})},[]),h=(0,a.useCallback)(async()=>{console.log("[AuthContext] Logout: Clearing currentUser"),c(null);try{await fetch("/api/auth/logout",{method:"POST"})}catch(t){console.error("[AuthContext] Logout API call failed:",t)}u.push("/chat")},[u]);return(0,o.jsx)(i.Provider,{value:{currentUser:n,isLoadingAuth:s,login:d,logout:h},children:e})}},424:function(t){t.exports={buttonBase:"Button_buttonBase__5Nbp_",sizeSm:"Button_sizeSm__Qakl3",sizeMd:"Button_sizeMd__VN8NK",sizeLg:"Button_sizeLg__4lRag",sizeIcon:"Button_sizeIcon__VjLki",variantPrimary:"Button_variantPrimary__gS6mT",variantSecondary:"Button_variantSecondary__pZIyO",variantGhost:"Button_variantGhost__N3Fjl",variantLink:"Button_variantLink__9rDhX",variantDanger:"Button_variantDanger__PoCK4",fullWidth:"Button_fullWidth__JjsBk",iconLeft:"Button_iconLeft__HEYpQ",iconRight:"Button_iconRight__CZFfJ",iconSm:"Button_iconSm__bivUw",iconMd:"Button_iconMd__sdPUl",spinnerLoading:"Button_spinnerLoading__9UqUo",textHiddenWhileLoading:"Button_textHiddenWhileLoading__1_sKG",textAbsoluteForLoading:"Button_textAbsoluteForLoading__4v7v_"}}},function(t){t.O(0,[282,448,971,117,744],function(){return t(t.s=9295)}),_N_E=t.O()}]);